<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>제품 상세정보</title>
    <link rel="stylesheet" href="/css/default.css">
</head>
<body>
<div id="container">
    <h1>제품 상세페이지</h1>
    <form th:action="@{/order/orderProduct(product_id=${product.product_id})}" method="post" th:object="${product}">
        <table>
            <tr>
                <th>제품명</th>
                <td th:text="*{product_name}"></td>
            </tr>
            <tr>
                <th>가격</th>
                <td th:text="*{price} + '원'"></td>
            </tr>
            <tr>
                <th>재고</th>
                <td th:text="*{stock}"></td>
            </tr>
        </table>
        <p>
        <label for="count">주문수량: </label>
        <input type="number" th:field="*{count}">
        <input type="submit" value="주문하기">
        <span class="error" th:errors="*{count}"></span>
        <th:block th:if="${#fields.hasGlobalErrors()}">
	        <span class="error" th:each="err : ${#fields.globalErrors}" th:text="${err}"></span>
		</th:block>
		<input type="hidden" th:field="*{product_id}">
		<input type="hidden" th:field="*{product_name}">
		<input type="hidden" th:field="*{stock}">
		<input type="hidden" th:field="*{price}">
        <p>
        <div class="center">
            <input type="button" onclick="location.href='/'" value="메인으로">
            <input type="button" onclick="location.href='/product/products'" value="목록으로">
        </div>
    </form>
</div>
</body>
</html>